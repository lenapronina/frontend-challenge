{"version":3,"sources":["components/NavItem/NavItem.js","components/Nav/Nav.js","components/Header/Header.js","components/LikeButton/LikeButton.js","components/Card/Card.js","components/MoreCatsLoading/MoreCatsLoading.js","components/CardsList/CardsList.js","components/AllCats/AllCats.js","images/cat-back.svg","components/NotFoundPage/NotFoundPage.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["NavItem","activeState","itemText","handleClick","isActive","className","onClick","Nav","path","handleAllCatsClick","handleLikedCatsClick","useState","activeAllCatsButton","setActiveAllCatsButton","activeLikedCatsButton","setActiveLikedCatsButton","isButtonActive","useCallback","useEffect","Header","LikeButton","Card","image","style","backgroundImage","url","MoreCatsLoading","CardsList","React","forwardRef","ref","imgData","images","map","index","fetching","AllCats","NotFoundPage","src","CatImage","alt","App","history","useHistory","setPath","useReducer","state","action","type","concat","imgDispatch","page","pager","pagerDispatch","fetch","then","data","json","catch","e","bottomBoundaryRef","useRef","scrollObserver","node","IntersectionObserver","entries","forEach","en","intersectionRatio","observe","current","location","pathname","push","exact","from","to","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2650e19f.chunk.js","sourcesContent":["import React from 'react';\nimport './NavItem.css';\n\nfunction NavItem({\n  activeState,\n  itemText,\n  handleClick\n}){\n\n  const isActive = activeState ? 'nav__item_active' : '';\n\n  return(\n    <button\n      className={`nav__item ${isActive}`}\n      onClick={handleClick}\n    >{itemText}</button>\n  )\n}\n\nexport default NavItem;","import React,  { useState, useEffect, useCallback } from 'react';\nimport './Nav.css';\n\nimport NavItem from '../NavItem/NavItem';\n\nfunction Nav({\n  path,\n  handleAllCatsClick,\n  handleLikedCatsClick,\n}){\n\n  // states for navitems\n  const [activeAllCatsButton, setActiveAllCatsButton] = useState(false);\n  const [activeLikedCatsButton, setActiveLikedCatsButton] = useState(false);\n\n  // manage navitem active state with router path\n  const isButtonActive = useCallback(() => {\n    if(path ==='/all-cats'){\n      setActiveAllCatsButton(true);\n      setActiveLikedCatsButton(false);\n    }\n\n    if(path ==='/liked-cats'){\n      setActiveLikedCatsButton(true);\n      setActiveAllCatsButton(false);\n    }\n\n    if(path ==='/not-found'){\n      setActiveLikedCatsButton(false);\n      setActiveAllCatsButton(false);\n    }\n    // else if(path ==='/liked-cats'){\n    //   setActiveLikedCatsButton(true);\n    //   setActiveAllCatsButton(false);\n    // } else {\n    //   setActiveLikedCatsButton(false);\n    //   setActiveAllCatsButton(false);\n    // }\n  },[path]);\n\n  // useEffect that checks every changing in isButtonActive callback\n  useEffect(()=>{\n    isButtonActive();\n  }, [isButtonActive]);\n\n  return(\n    <nav className=\"nav\">\n      <NavItem\n        activeState={activeAllCatsButton}\n        handleClick={handleAllCatsClick} \n        itemText=\"Все котики\"\n      />\n      <NavItem\n        activeState={activeLikedCatsButton}\n        handleClick={handleLikedCatsClick} \n        itemText=\"Любимые котики\"\n      />\n    </nav>\n  )\n}\n\nexport default Nav;","import React from 'react';\nimport './Header.css';\nimport Nav from '../Nav/Nav'\n\nfunction Header({\n  path,\n  handleAllCatsClick, \n  handleLikedCatsClick,\n}){\n  return(\n    <header className=\"header\">\n      <Nav\n        path={path} \n        handleAllCatsClick={handleAllCatsClick}\n        handleLikedCatsClick={handleLikedCatsClick}\n      />\n    </header>\n  )\n}\n\nexport default Header;","import React from 'react';\nimport './LikeButton.css';\n\nfunction LikeButton () {\n  return(\n    <button className=\"like-button\"></button>\n  )\n}\n\nexport default LikeButton;","import React from 'react';\nimport './Card.css';\n\nimport LikeButton from '../LikeButton/LikeButton';\n\nfunction Card({image}){\n\n  return(\n    <li className=\"card\" style={{ backgroundImage:`url(${image.url})` }}>\n      <LikeButton />\n    </li>\n  )\n}\n\nexport default Card;","import React from 'react';\nimport './MoreCatsLoading.css';\n\nfunction MoreCatsLoading(){\n  return(\n    <p className=\"more-cats-loading\">... загружаем еще котиков ...</p>\n  )\n}\n\nexport default MoreCatsLoading;\n","import React from 'react';\nimport './CardsList.css';\n\nimport Card from '../Card/Card';\nimport MoreCatsLoading from '../MoreCatsLoading/MoreCatsLoading';\n\nconst CardsList = React.forwardRef(({imgData}, ref) => {\n  return (\n    <>\n    <ul className=\"card-list\">{\n      imgData.images.map((image, index) => (\n        <Card \n          key={index}\n          image={image}\n        />\n      ))\n      }\n    </ul>\n    { imgData.fetching && (<MoreCatsLoading />)}\n    <div\n      className='card-list__bottom-boundary'\n      ref={ref} \n    />\n    </>\n  )\n} );\n\nexport default CardsList;\n\n","import React from 'react';\nimport './AllCats.css';\n\nimport CardsList from '../CardsList/CardsList'\n\nconst AllCats = React.forwardRef(({imgData}, ref ) =>{\n  return(\n    <CardsList \n      imgData={imgData}\n      ref={ref}\n    />\n  )\n})\n\nexport default AllCats;","export default __webpack_public_path__ + \"static/media/cat-back.993e5cf9.svg\";","import React from 'react';\nimport './NotFoundPage.css';\nimport CatImage from '../../images/cat-back.svg';\n\nfunction NotFoundPage(){\n  return(\n    <div className=\"notfound\">\n      <h2 className=\"notfound__heading\">404</h2>\n      <p className=\"notfound__paragraph\">страница не найдена</p>\n      <img \n        className=\"notfound__image\"\n        src={CatImage} \n        alt=\"котик\"\n      />\n    </div>\n  )\n}\n\nexport default NotFoundPage;","import React, { useState, useEffect, useReducer, useRef, useCallback } from 'react';\nimport { HashRouter, Route, Redirect, Switch, useHistory } from 'react-router-dom';\nimport './App.css';\n\nimport Header from '../Header/Header';\nimport AllCats from '../AllCats/AllCats';\nimport NotFoundPage from '../NotFoundPage/NotFoundPage';\n\nfunction App() {\n\n  // history hook for moving between pages\n  const history = useHistory();\n  const [path, setPath] = useState('/');\n\n\n  const imgReducer = (state, action) => {\n    switch (action.type) {\n      case 'STACK_IMAGES':\n        return { ...state, images: state.images.concat(action.images) }\n      case 'FETCHING_IMAGES':\n        return { ...state, fetching: action.fetching }\n      default:\n        return state;\n    }\n  }\n  const [imgData, imgDispatch] = useReducer(imgReducer,{ images:[], fetching: true});\n  const pageReducer = (state, action) => {\n    switch (action.type) {\n      case 'ADVANCE_PAGE':\n        return { ...state, page: state.page + 1 }\n      default:\n        return state;\n    }\n  }\n  const [ pager, pagerDispatch ] = useReducer(pageReducer, { page: 0 })\n\n  useEffect(() => {\n    imgDispatch({ type: 'FETCHING_IMAGES', fetching: true })\n    fetch(`https://api.thecatapi.com/v1/images/search?limit=9&page=${pager.page}&order=Desc`)\n      .then(data => data.json())\n      .then(images => {\n        imgDispatch({ type: 'STACK_IMAGES', images })\n        imgDispatch({ type: 'FETCHING_IMAGES', fetching: false })\n      })\n      .catch(e => {\n        // handle error\n        imgDispatch({ type: 'FETCHING_IMAGES', fetching: false })\n        return e\n      })\n  }, [ imgDispatch, pager.page ]);\n\n  // implement infinite scrolling with intersection observer\nlet bottomBoundaryRef = useRef(null);\nconst scrollObserver = useCallback(\n  node => {\n    new IntersectionObserver(entries => {\n      entries.forEach(en => {\n        if (en.intersectionRatio > 0) {\n          pagerDispatch({ type: 'ADVANCE_PAGE' });\n        }\n      });\n    }).observe(node);\n  },\n  [pagerDispatch]\n);\nuseEffect(() => {\n  if (bottomBoundaryRef.current) {\n    scrollObserver(bottomBoundaryRef.current);\n  }\n}, [scrollObserver, bottomBoundaryRef]);\n\n\n  const handleAllCatsClick = () => {\n    history.push('/all-cats');\n    setPath('/all-cats');\n  }\n\n  const handleLikedCatsClick = () => {\n    history.push('/liked-cats');\n    setPath('/liked-cats');\n  }\n\n  useEffect(() => {\n    setPath(history.location.pathname);\n },[history]) \n\n  return (\n    <div className=\"app\">\n      <Header \n        path={path} \n        handleAllCatsClick={handleAllCatsClick}\n        handleLikedCatsClick={handleLikedCatsClick}\n      />\n      <Switch>\n        <Redirect exact from=\"/\" to=\"/all-cats\" />\n        <Route path=\"/all-cats\">\n          <AllCats \n            imgData={imgData}\n            ref={bottomBoundaryRef}\n          />\n        </Route>\n        <Route path=\"/liked-cats\">\n          <div>/liked-cats</div>\n        </Route>\n        <Route path=\"/not-found\">\n          <NotFoundPage />\n        </Route>\n        <Redirect from=\"*\" to=\"/not-found\" />\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}